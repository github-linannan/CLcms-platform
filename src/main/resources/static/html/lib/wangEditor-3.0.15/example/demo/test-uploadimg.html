<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>wangEditor 上传图片</title>
</head>
<style>
    #div3 img{
            width: 400px;
        }

</style>
<body>
    <p>wangEditor 上传图片到服务器</p>
    <div id="div3">
        <p>欢迎使用 wangEditor 富文本编辑器</p>
    </div>
    <button id="btn1">读取html</button>
    <button id="btn2">读取text</button>
    <script type="text/javascript" src="/wangEditor.js"></script>
    <script type="text/javascript">
        var E = window.wangEditor;
        var editor2 = new E('#div3')
        editor2.customConfig.uploadImgServer = 'http://10.10.2.245:8899/resource/savepicture'
        editor2.customConfig.uploadFileName = 'file'
        editor2.customConfig.uploadImgHooks = {
             customInsert: function (insertImg, result, editor) {
//                 var a=JSON.stringify(result);
                 console.log(result);
                 insertImg("http://10.10.2.245:8899/" +result.data);
             },
        }
//         editor2.customConfig.uploadImgParamsWithUrl = true;
//        editor2.customConfig.debug =true;
        editor2.create()
        document.getElementById('btn1').addEventListener('click', function () {
            // 读取 html
            alert(editor2.txt.html())
        }, false)

        document.getElementById('btn2').addEventListener('click', function () {
            // 读取 text
            alert(editor2.txt.text())
        }, false)

    </script>
</body>
</html>