<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.letu.healthplatform.platformmanage.user.mapper.AppLoginMapper" >
  <resultMap id="BaseResultMap" type="com.letu.healthplatform.platformmanage.user.model.AppLogin" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jan 02 09:54:56 CST 2018.
    -->
    <id column="login_id" property="loginId" jdbcType="INTEGER" />
    <result column="login_nickname" property="loginNickname" jdbcType="VARCHAR" />
    <result column="login_telephone" property="loginTelephone" jdbcType="VARCHAR" />
    <result column="login_password" property="loginPassword" jdbcType="VARCHAR" />
    <result column="login_register_time" property="loginRegisterTime" jdbcType="TIMESTAMP" />
    <result column="login_last_login_time" property="loginLastLoginTime" jdbcType="TIMESTAMP" />
    <result column="login_status" property="loginStatus" jdbcType="INTEGER" />
    <result column="login_wx_openid" property="loginWxOpenid" jdbcType="VARCHAR" />
    <result column="login_invite" property="loginInvite" jdbcType="VARCHAR" />
    <result column="login_head_image" property="loginHeadImage" jdbcType="VARCHAR" />
    <result column="user_name" property="userName" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jan 02 09:54:56 CST 2018.
    -->
    login_id, login_nickname, login_telephone, login_password, login_register_time, login_last_login_time, 
    login_status, login_wx_openid, login_invite, login_head_image
  </sql>
  
  
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    select 
    <include refid="Base_Column_List" />
    from t_login
    where login_id = #{loginId,jdbcType=INTEGER}
  </select>
  
  
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    delete from t_login
    where login_id = #{loginId,jdbcType=INTEGER}
  </delete>
  
  
  <insert id="insert" parameterType="com.letu.healthplatform.platformmanage.user.model.AppLogin" >
    insert into t_login (login_id, login_nickname, login_telephone, 
      login_password, login_register_time, login_last_login_time, 
      login_status, login_wx_openid, login_invite, 
      login_head_image)
    values (#{loginId,jdbcType=INTEGER}, #{loginNickname,jdbcType=VARCHAR}, #{loginTelephone,jdbcType=VARCHAR}, 
      #{loginPassword,jdbcType=VARCHAR}, #{loginRegisterTime,jdbcType=TIMESTAMP}, #{loginLastLoginTime,jdbcType=TIMESTAMP}, 
      #{loginStatus,jdbcType=INTEGER}, #{loginWxOpenid,jdbcType=VARCHAR}, #{loginInvite,jdbcType=VARCHAR}, 
      #{loginHeadImage,jdbcType=VARCHAR})
  </insert>
  
  <insert id="insertSelective" useGeneratedKeys="true" keyProperty="loginId" parameterType="com.letu.healthplatform.platformmanage.user.model.AppLogin" >
    insert into t_login
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="loginId != null" >
        login_id,
      </if>
      <if test="loginNickname != null" >
        login_nickname,
      </if>
      <if test="loginTelephone != null" >
        login_telephone,
      </if>
      <if test="loginPassword != null" >
        login_password,
      </if>
      <if test="loginRegisterTime != null" >
        login_register_time,
      </if>
      <if test="loginLastLoginTime != null" >
        login_last_login_time,
      </if>
      <if test="loginStatus != null" >
        login_status,
      </if>
      <if test="loginWxOpenid != null" >
        login_wx_openid,
      </if>
      <if test="loginInvite != null" >
        login_invite,
      </if>
      <if test="loginHeadImage != null" >
        login_head_image,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="loginId != null" >
        #{loginId,jdbcType=INTEGER},
      </if>
      <if test="loginNickname != null" >
        #{loginNickname,jdbcType=VARCHAR},
      </if>
      <if test="loginTelephone != null" >
        #{loginTelephone,jdbcType=VARCHAR},
      </if>
      <if test="loginPassword != null" >
        #{loginPassword,jdbcType=VARCHAR},
      </if>
      <if test="loginRegisterTime != null" >
        #{loginRegisterTime,jdbcType=TIMESTAMP},
      </if>
      <if test="loginLastLoginTime != null" >
        #{loginLastLoginTime,jdbcType=TIMESTAMP},
      </if>
      <if test="loginStatus != null" >
        #{loginStatus,jdbcType=INTEGER},
      </if>
      <if test="loginWxOpenid != null" >
        #{loginWxOpenid,jdbcType=VARCHAR},
      </if>
      <if test="loginInvite != null" >
        #{loginInvite,jdbcType=VARCHAR},
      </if>
      <if test="loginHeadImage != null" >
        #{loginHeadImage,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  
  
  <update id="updateByPrimaryKeySelective" parameterType="com.letu.healthplatform.platformmanage.user.model.AppLogin" >
    update t_login
    <set >
      <if test="loginPassword != null" >
        login_password = #{loginPassword,jdbcType=VARCHAR},
      </if>
      <if test="loginStatus != null" >
        login_status = #{loginStatus,jdbcType=INTEGER},
      </if>
    </set>
    where login_id = #{loginId,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.letu.healthplatform.platformmanage.user.model.AppLogin" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jan 02 09:54:56 CST 2018.
    -->
    update t_login
    set login_nickname = #{loginNickname,jdbcType=VARCHAR},
      login_telephone = #{loginTelephone,jdbcType=VARCHAR},
      login_password = #{loginPassword,jdbcType=VARCHAR},
      login_register_time = #{loginRegisterTime,jdbcType=TIMESTAMP},
      login_last_login_time = #{loginLastLoginTime,jdbcType=TIMESTAMP},
      login_status = #{loginStatus,jdbcType=INTEGER},
      login_wx_openid = #{loginWxOpenid,jdbcType=VARCHAR},
      login_invite = #{loginInvite,jdbcType=VARCHAR},
      login_head_image = #{loginHeadImage,jdbcType=VARCHAR}
    where login_id = #{loginId,jdbcType=INTEGER}
  </update>
  
  
   <select id="selectByParam" resultMap="BaseResultMap" parameterType="com.letu.healthplatform.platformmanage.user.model.AppLogin" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jan 02 09:54:56 CST 2018.
    -->
    select 
     t.login_id, t.login_nickname, t.login_telephone, t.login_password, t.login_register_time, t.login_last_login_time, 
    t.login_status, t.login_wx_openid, t.login_invite, t.login_head_image,t1.user_name
    from t_login t left join t_user t1 on t.login_id=t1.login_id and t1.user_relationship='本人'
    where   1=1 
     <if test="loginId != null" >
       and t.login_id = #{loginId,jdbcType=INTEGER}
      </if>
     <if test="loginNickname != null" >
       and  login_nickname = #{loginNickname,jdbcType=VARCHAR}
      </if>
      <if test="loginTelephone != null" >
        and login_telephone = #{loginTelephone,jdbcType=VARCHAR}
      </if>
      <if test="loginPassword != null" >
       and login_password = #{loginPassword,jdbcType=VARCHAR}
      </if>
      <if test="loginRegisterTime != null" >
       and login_register_time = #{loginRegisterTime,jdbcType=TIMESTAMP}
      </if>
      <if test="loginLastLoginTime != null" >
       and login_last_login_time = #{loginLastLoginTime,jdbcType=TIMESTAMP}
      </if>
      <if test="loginStatus != null" >
      and  t.login_status = #{loginStatus,jdbcType=INTEGER}
      </if>
      <if test="loginWxOpenid != null" >
      and  login_wx_openid = #{loginWxOpenid,jdbcType=VARCHAR}
      </if>
      <if test="loginInvite != null" >
       and login_invite = #{loginInvite,jdbcType=VARCHAR}
      </if>
      <if test="loginHeadImage != null" >
       and login_head_image = #{loginHeadImage,jdbcType=VARCHAR}
      </if>
  </select>
  
</mapper>